# General
alias ls="ls --color=auto "
alias grep="grep --color=auto"
alias nv="nvim "
alias nvw="nvim -c VimwikiIndex"
alias note="~/notes/note.sh"
alias kebab="~/.scripts/kebab.sh"
alias snake="sed -e 's/[^a-Z0-9 ]//g' -e 's/ \+/_/g'"
alias camel="sed -e 's/\(\w\+\)/\u\1/g' -e 's/ \+//g'"
alias today="date +%y%m%d"


# Git
# use Windows' git when working under C:\ drive
function git() {
  if $(pwd -P | grep -q "^\/mnt\/c\/*"); then
    '/mnt/c/Program Files/Git/cmd/git.exe' "$@"
  else
    command git "$@"
  fi
}

alias cdg='cd "$(git rev-parse --show-toplevel)"'
alias groot='git rev-parse --show-toplevel'
alias thisgit="git rev-parse --abbrev-ref HEAD"
alias ga="git add "
alias gc="git commit "
alias gd="git diff "
alias gs="git status "
alias gb="git branch --sort=committerdate"
alias gca="git commit -a"
alias gcam="bash ~/.scripts/gcam.sh"
alias gg="git grep"
alias ggi="git grep -i "
alias gco="git checkout"
alias glog="git log"
alias gp-new="git push --set-upstream origin \$(thisgit)"
alias gpush-new="git push --set-upstream origin \$(thisgit)"
alias gp="git push || echo 'Push failed, trying push-new' && gp-new"
alias gbak=git-backup
alias icbinb="git fetch origin dev && git merge FETCH_HEAD"
alias gmdev="git fetch origin dev && git merge FETCH_HEAD"
alias delete_orig="find ./ -type f -name '*.orig' -delete"

alias git-holdmybeer="git-backup"
function git-backup () {
        orig_name="$(git rev-parse --abbrev-ref HEAD)"
        backup_name="$orig_name-backup"
        git branch "$backup_name" "$orig_name"
        echo "Branch created: $backup_name"
}

alias checkin="git commit -m \"$(date +%y%m%d) checkin\""

source "$HOME/.work-aliases"

alias docfx='/mnt/c/ProgramData/chocolatey/bin/docfx.exe'
